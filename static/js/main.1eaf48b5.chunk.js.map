{"version":3,"sources":["pages/HomePage.js","api/frontendAPI.js","components/Recorder.js","pages/MusicPage2.js","pages/LoginPage.js","pages/NewUser.js","pages/EditUser.js","components/Nav.js","pages/OneDrive.js","App.js","reportWebVitals.js","index.js"],"names":["HomePage","props","window","localStorage","location","toString","indexOf","getOdToken","code","a","property","console","log","details","formBody","encodedKey","encodeURIComponent","encodedValue","push","join","method","headers","body","split","odToken","className","BASE_URL","getToken","username","password","init","JSON","stringify","fetch","tokenResponse","json","token","setItem","loginUser","getUserInfo","Profile","newUser","userInfo","response","stringifiedResponse","userName","data","updateUser","first_name","last_name","email","id","removeUser","userId","parse","profile","RecorderComponent","currentdate","Date","state","audioDetails","url","blob","chunks","duration","h","m","s","formData","FormData","handleAudioUpload","file","dateTime","getDate","getMonth","getFullYear","msProfileRequest","msProfile","this","setState","record","title","audioURL","showUIAudio","handleAudioStop","handleReset","React","Component","MusicPage2","Recorder","LoginPage","handleLogin","e","preventDefault","target","value","replace","history","Form","onSubmit","Group","controlId","Label","Control","type","placeholder","Button","variant","href","NewUser","EditUser","handleDeleteAccount","alert","clear","defaultValue","onClick","NavComponent","useState","setprofile","useEffect","Navbar","bg","expand","dark","Toggle","aria-controls","Collapse","Nav","removeItem","OneDrive","config","getODCode","generateRandomString","code_verifier","pkceChallengeFromVerifier","code_challenge","q","string","segments","map","queryString","forEach","parseQueryString","search","substring","array","Uint32Array","crypto","getRandomValues","Array","from","dec","substr","sha256","plain","TextEncoder","encode","subtle","digest","base64urlencode","str","btoa","String","fromCharCode","apply","Uint8Array","v","hashed","error","document","getElementById","innerText","error_description","classList","getItem","params","success","request","XMLHttpRequest","open","setRequestHeader","onload","status","onerror","Object","keys","key","send","sendPostRequest","grant_type","client_id","redirect_uri","access_token","msProfInit","App","exact","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.1eaf48b5.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n\r\nexport default function HomePage(props) {\r\n    let storage = window.localStorage\r\n    let codeObj = {};\r\n    let obj = {};\r\n    \r\n\r\n    \r\n\r\n    if (window.location.toString().indexOf(\"code\") != -1) {\r\n        // let re = /=([A-Za-z0-9.&\\-_:\\/]*)/;\r\n        \r\n        let codeStr = window.location.toString().split(\"?\")[1]\r\n        let a = codeStr.split('=')\r\n        let paramName = a[0]\r\n        let paramValue = a[1]\r\n\r\n        \r\n        let odToken = getOdToken(paramValue)\r\n        console.log(\"od token: \",odToken)\r\n        // let codeQuerArr = codeStr.split('&');\r\n        // // console.log(codeQuerArr)\r\n\r\n        // for (let i = 0; i < codeQuerArr.length; i++) {\r\n        //     // separate the keys and the values\r\n        //     let a = codeQuerArr[i].split('=');\r\n\r\n        //     var paramName = a[0];\r\n        //     var paramValue = typeof (a[1]) === 'undefined' ? true : a[1];\r\n\r\n        //     if (paramName == \"code\") {\r\n        //         console.log('paramname: ', paramValue)\r\n        //         getOdToken(paramValue).then((odToken) => {\r\n\r\n        //             window.localStorage.setItem('odToken', JSON.stringify(odToken))\r\n        //         })\r\n        //     }\r\n\r\n        //     if (!codeObj[paramName]) {\r\n        //         // if it doesn't exist, create property\r\n        //         codeObj[paramName] = paramValue;\r\n        //     } else if (codeObj[paramName] && typeof codeObj[paramName] === 'string'){\r\n        //         // if property does exist and it's a string, convert it to an array\r\n        //         codeObj[paramName] = [codeObj[paramName]];\r\n        //         codeObj[paramName].push(paramValue);\r\n        //     } else {\r\n        //         // otherwise add the property\r\n        //         codeObj[paramName].push(paramValue);\r\n        //     }\r\n            \r\n        // }\r\n\r\n       \r\n        async function getOdToken(code) {\r\n            console.log(\"here's your code \", code)\r\n    \r\n            \r\n            let details = {\r\n                \"client_id\":\"ec6a8d48-e814-4f0d-a777-bb8d6f37971b\",\r\n                \"scope\": \"user.read\",\r\n                \"code\": `${code}`,\r\n                \"redirect_uri\": \"http://localhost:3000/\",\r\n                \"grant_type\": \"authorization_code\",\r\n                \"client_secret\": \"Anzq9DPt2Yc9mcBEd4xfo2MCc_.H_b-0~Q\"\r\n                \r\n            }\r\n            \r\n            let formBody = [];\r\n                    \r\n            for (let property in details) {\r\n                let encodedKey = encodeURIComponent(property);\r\n                let encodedValue = encodeURIComponent(details[property]);\r\n                formBody.push(encodedKey + \"=\" + encodedValue);\r\n            }\r\n            formBody = formBody.join(\"&\");\r\n            console.log(formBody)\r\n    \r\n            let init = {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Origin\": \"http://localhost:3000/\",\r\n                    \"Content-Type\": \"application/x-www-form-urlencoded; charset_UTF-8\"\r\n                },\r\n                body: formBody\r\n            }\r\n    \r\n                // let response = await fetch(\"https://login.microsoftonline.com/common/oauth2/v2.0/token/\", init)\r\n                // console.log(\"response: \", response)\r\n                // let stringRes = await response.json()\r\n                // return stringRes\r\n        }\r\n        \r\n        // storage.setItem(\"odCodeInfo\", JSON.stringify(codeObj))\r\n        // // console.log(JSON.parse(window.localStorage.odCodeInfo).code)      \r\n        // // console.log(JSON.parse(window.localStorage.odCodeInfo).state)        \r\n        \r\n        // // props.history.push(\"/\")\r\n        // console.log(\"codeobj.code: \", codeObj.code)\r\n        // console.log(\"storage code: \", JSON.parse(storage.odCodeInfo).code)\r\n    }\r\n    \r\n    \r\n\r\n    // if (window.location.toString().indexOf(\"#\") != -1) {\r\n\r\n    // }\r\n        \r\n        // const queryString = window.location.toString().split('#')[1];\r\n        // let querArr = queryString.split('&');\r\n        // console.log(querArr)\r\n\r\n        // for (let i = 0; i < querArr.length; i++) {\r\n        //     // separate the keys and the values\r\n        //     let a = querArr[i].split('=');\r\n\r\n        //     var paramName = a[0];\r\n        //     var paramValue = typeof (a[1]) === 'undefined' ? true : a[1];\r\n\r\n        //     if (!obj[paramName]) {\r\n        //         // if it doesn't exist, create property\r\n        //         obj[paramName] = paramValue;\r\n        //     } else if (obj[paramName] && typeof obj[paramName] === 'string'){\r\n        //         // if property does exist and it's a string, convert it to an array\r\n        //         obj[paramName] = [obj[paramName]];\r\n        //         obj[paramName].push(paramValue);\r\n        //     } else {\r\n        //         // otherwise add the property\r\n        //         obj[paramName].push(paramValue);\r\n        //     }\r\n\r\n        //     }\r\n        // storage.setItem(\"odAuthenticationInfo\", JSON.stringify(obj))\r\n        // console.log(JSON.parse(window.localStorage.odAuthenticationInfo)[\"access_token\"])\r\n        \r\n        // const urlParams = new URLSearchParams(params);\r\n    // const odAccessToken = urlParams.get('access_token')\r\n\r\n    // console.log(odAccessToken)\r\n\r\n    // http://localhost:3000/#access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6ImJXOFpjTWpCQ25KWlMtaWJYNVVRRE5TdHZ4NCJ9.eyJ2ZXIiOiIyLjAiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vOTE4ODA0MGQtNmM2Ny00YzViLWIxMTItMzZhMzA0YjY2ZGFkL3YyLjAiLCJzdWIiOiJBQUFBQUFBQUFBQUFBQUFBQUFBQUFCcV83REJGMk4tR2N4MmdNeXl2ME1rIiwiYXVkIjoiZDIxM2QxZWItYmQzYy00MjQxLWE5OWMtNGQ3YmIxMTZiMjczIiwiZXhwIjoxNjE5NDc2NDY2LCJpYXQiOjE2MTk0NzI1NjYsIm5iZiI6MTYxOTQ3MjU2NiwibmFtZSI6IlN0ZXZlbiBMYXdsZXNzIiwicHJlZmVycmVkX3VzZXJuYW1lIjoibWFjaHN0ZXZlMjAwMkBzYmNnbG9iYWwubmV0Iiwib2lkIjoiMDAwMDAwMDAtMDAwMC0wMDAwLWQyNDItY2ZjMGQ2NDU2MWIwIiwidGlkIjoiOTE4ODA0MGQtNmM2Ny00YzViLWIxMTItMzZhMzA0YjY2ZGFkIiwiYXpwIjoiZDIxM2QxZWItYmQzYy00MjQxLWE5OWMtNGQ3YmIxMTZiMjczIiwic2NwIjoib25lZHJpdmUucmVhZHdyaXRlIiwiYXpwYWNyIjoiMCIsImFpbyI6IkRZSkJIWU16MmtsTjc3YnVIeUY0Z2d1YjdueWZadmhqRnozcmc3dDJ0RmNaRHNmT091SVZURk5lck5GOGZFVnNhWEJ4d0lobHp1UUxnOXp0ZXRDdUxUTDdNYXNvNWFVWnFsM1l1cipJWjdwcTdRdDghUWUyMEE0RzZaVllaT1o2R016MWZUbThFOEZRTjQyVk05MFohNzQkIn0.FlFvtn-9PNQzHq9PTUhrGJH83of9iknQbqJUKs4fAMnbk8p-jIPryAJHLB3Lm8YQUYIAIfDQ1WW73aer_EaYqDmYEUQF4k8cCQHE0w0J7Sx-wUfGFGQ1Byzr3nwxShKL5BMi7SQRd5pos3jkVC4ipREj9b1Zx05G7L60WBk9czjMsP1z3s3eStERIbTsQ3-a3UUx2V4Btxhzl52X0tp-_e1IxRY5XlKq4-R724aralYVPY2xsw861t_Lwi5qc790-xRlAweLQnFJUlxZCCLbzkspPyH9xHxHn_ei4cGgjwdVZYUS-piwT6wJdWgrdNVPHC5H5lVtD6mC6spAALGg2A&token_type=bearer&expires_in=3600&scope=api://d213d1eb-bd3c-4241-a99c-4d7bb116b273/onedrive.readwrite\r\n    return (\r\n        <div className=\"homeBody\">\r\n            <h1>Rosewood Studios Online</h1>\r\n        </div>\r\n    )\r\n}\r\n","// const BASE_URL = \"http://localhost:8000/\"\r\nconst BASE_URL = \"https://personalprojectlawless.herokuapp.com/\"\r\n\r\n\r\n\r\nconst getToken = async (username, password) => {\r\n    let init = {\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        method: 'POST',\r\n        body: JSON.stringify({\r\n            \"username\": `${username}`,\r\n            \"password\": `${password}`\r\n        })\r\n      }\r\n    let tokenResponse = await fetch(BASE_URL + \"api-token-auth/\", init)\r\n    let token = await tokenResponse.json()\r\n    localStorage.setItem(\"token\", token.token);\r\n\r\n    return token.token\r\n}\r\n\r\nconst loginUser = async (username, password) => {\r\n    let token = await getToken(username, password)\r\n    console.log(username)\r\n    let Profile = await getUserInfo(username, token)\r\n    return {\r\n        \"token\": token,\r\n        \"profile\": Profile\r\n    }\r\n}\r\n\r\nconst newUser = async (userInfo) => {\r\n    let init = {\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        method: 'POST',\r\n        body: JSON.stringify(userInfo)\r\n      }\r\n    console.log(init)\r\n    let response = await fetch(BASE_URL+'users/new-user/', init)\r\n    let stringifiedResponse = await response.json()\r\n    return stringifiedResponse\r\n}\r\n\r\nconst getUserInfo = async (userName, token) => {\r\n    let init = {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization':`Token ${token}`\r\n        },\r\n        method: 'POST',\r\n        body: JSON.stringify({\r\n            \"username\": `${userName}`\r\n        })\r\n      }\r\n    console.log(\"Init: \",init)\r\n    let response = await fetch(BASE_URL+`users/get-user-info/`, init)\r\n    let stringifiedResponse = await response.json()\r\n\r\n    localStorage.setItem(\"profile\", JSON.stringify(stringifiedResponse.data[0]))\r\n    console.log(JSON.stringify(stringifiedResponse.data))\r\n    \r\n    return stringifiedResponse\r\n}\r\n\r\nconst updateUser = async (userInfo, token) => {\r\n    let init = {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'AUTHORIZATION': `Token ${token}`\r\n        },\r\n        method: 'PATCH',\r\n        body: JSON.stringify({\r\n            \"first_name\": `${userInfo.first_name}`,\r\n            \"last_name\": `${userInfo.last_name}`,\r\n            \"email\": `${userInfo.email}`\r\n        })\r\n      }\r\n    console.log(userInfo.id)\r\n    let response = await fetch(BASE_URL+`users/users/${userInfo.id}/`, init)\r\n    let stringifiedResponse = await response.json()\r\n    localStorage.setItem(\"profile\", JSON.stringify(stringifiedResponse))\r\n    return stringifiedResponse\r\n}\r\n\r\nconst removeUser = async (userId) => {\r\n  let init = {\r\n    headers: {\r\n      'AUTHORIZATION': `Token ${window.localStorage.token}`\r\n    },\r\n    method: 'DELETE'\r\n  }\r\n  let response = await fetch(BASE_URL+`users/users/${JSON.parse(window.localStorage.profile).id}/`, init)\r\n  console.log(response)\r\n  let stringifiedResponse = await response.json()\r\n  return stringifiedResponse\r\n}\r\n\r\n\r\nconst dbUpload = async (file) => {\r\n  let currentdate = new Date();\r\n  let dateTime = `${currentdate.getDate()}-${currentdate.getMonth()}-${currentdate.getFullYear()}`\r\n  let userId = JSON.parse(window.localStorage.profile).id\r\n\r\n  let formData = new FormData()\r\n  formData.append('file', file)\r\n\r\n\r\n  let init = {\r\n    method: \"POST\",\r\n      headers: {\r\n          'Content-Type': 'audio/wav',\r\n          'Authorization': `Token ${window.localStorage.token}`\r\n      },\r\n      body: formData\r\n    }\r\n  let dbSendRequest = await fetch(`http://localhost:8000/users/files/`, init)\r\n  let stringifiedDBSend = await dbSendRequest.json()\r\n  console.log(dbSendRequest)\r\n  return stringifiedDBSend\r\n}\r\n\r\n\r\nexport {\r\n    loginUser,\r\n    newUser,\r\n    getUserInfo,\r\n    updateUser,\r\n    removeUser,\r\n    dbUpload\r\n}","import React, { useCallback, useState } from \"react\";\r\nimport {dbUpload} from '../api/frontendAPI'\r\n\r\nimport {Recorder} from 'react-voice-recorder'\r\nimport 'react-voice-recorder/dist/index.css'\r\n\r\nclass RecorderComponent extends React.Component {\r\n\r\n  currentdate = new Date();\r\n\r\n \r\n\r\n    state = {\r\n        audioDetails: {\r\n            url: null,\r\n            blob: null,\r\n            chunks: null,\r\n            duration: {\r\n              h: 0,\r\n              m: 0,\r\n              s: 0\r\n            }\r\n          }\r\n    }\r\n    handleAudioStop(data){\r\n        console.log(data)\r\n        this.setState({ audioDetails: data });\r\n    }\r\n    formData = new FormData();\r\n    handleAudioUpload = async (file) => {\r\n        // dbUpload(this.state.audioDetails.blob)\r\n        console.log(file)\r\n        let init = {\r\n          method: \"PUT\",\r\n            headers: {\r\n                'Content-Type': 'audio/mpeg',\r\n                'Authorization': `Bearer ${window.localStorage.odToken}`\r\n            },\r\n            body: file\r\n          }\r\n        let dateTime = `${this.currentdate.getDate()}-${this.currentdate.getMonth()}-${this.currentdate.getFullYear()}`\r\n        let msProfileRequest = await fetch(`https://graph.microsoft.com/v1.0/me/drive/special/music:/test${dateTime}.mp3:/content`, init)\r\n        let msProfile = await msProfileRequest.json()\r\n        console.log(msProfile)\r\n\r\n    }\r\n    handleReset() {\r\n        const reset = {\r\n          url: null,\r\n          blob: null,\r\n          chunks: null,\r\n          duration: {\r\n            h: 0,\r\n            m: 0,\r\n            s: 0\r\n          }\r\n        };\r\n        this.setState({ audioDetails: reset });\r\n      }\r\n    \r\n      render() {\r\n          return(<div className=\"recorderContainer\">\r\n            <div className=\"recorderSpacer\"></div>\r\n            <Recorder\r\n            record={true}\r\n            title={\"Record a Hit!\"}\r\n            audioURL={this.state.audioDetails.url}\r\n            showUIAudio\r\n            handleAudioStop={data => this.handleAudioStop(data)}\r\n            handleAudioUpload={data => this.handleAudioUpload(data)}\r\n            handleReset={() => this.handleReset()} \r\n            />\r\n            <div className=\"recorderSpacer\"></div>\r\n            </div>\r\n          )\r\n      }\r\n    \r\n    \r\n \r\n} \r\n\r\nexport default RecorderComponent","import { React } from 'react'\r\nimport RecorderComponent from '../components/Recorder'\r\n\r\n// import React from 'react'\r\n\r\nconst MusicPage2 = (props) => {\r\n    return (\r\n        <div>\r\n            <RecorderComponent  />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MusicPage2\r\n","import React from 'react'\r\nimport { Form, Button } from 'react-bootstrap'\r\nimport { getUserInfo, loginUser } from '../api/frontendAPI'\r\n\r\nconst LoginPage = (props) => {\r\n    // const login = login;\r\n\r\n\r\n\r\n    const handleLogin = async (e) => {\r\n        e.preventDefault()\r\n        console.log(e.target[0].value)\r\n        console.log(e.target[1].value)\r\n        let username = e.target[0].value\r\n        let password = e.target[1].value\r\n        let userInfo = await loginUser(username, password)\r\n        console.log(userInfo)\r\n        // window.localStorage.setItem(\"profile\", userInfo.profile.data)\r\n        window.location.replace(\"/\")\r\n        props.history.push(\"/\")\r\n        // console.log(window.localStorage)\r\n            \r\n        \r\n        \r\n\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"formContainer\">\r\n            <div></div>\r\n        <div className=\"formClass\">\r\n            <h1>LOGIN</h1>\r\n            <Form onSubmit={handleLogin}>\r\n                <Form.Group controlId=\"formBasicEmail\">\r\n                    <Form.Label>User Name</Form.Label>\r\n                    <Form.Control type=\"text\" placeholder=\"Enter user name\" />\r\n                    {/* <Form.Text className=\"text-muted\">\r\n                    We'll never share your email with anyone else.\r\n                    </Form.Text> */}\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formBasicPassword\">\r\n                    <Form.Label>Password</Form.Label>\r\n                    <Form.Control type=\"password\" placeholder=\"Password\" />\r\n                </Form.Group>\r\n                <Button variant=\"primary\" type=\"submit\">\r\n                    Submit\r\n                </Button>\r\n            </Form>\r\n            <p>Not a member? click <a href=\"/new-user\">here</a>.</p>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginPage\r\n","import React from 'react'\r\nimport { Form, Button } from 'react-bootstrap'\r\nimport { newUser } from '../api/frontendAPI'\r\n\r\nconst NewUser = (props) => {\r\n\r\n    const handleCreateNewUser = (e) => {\r\n        e.preventDefault()\r\n        // console.log(e)\r\n\r\n        let userInfo = {\r\n            \"username\": `${e.target[0].value}`,\r\n            \"password\": `${e.target[1].value}`,\r\n            \"first_name\": `${e.target[2].value}`,\r\n            \"last_name\": `${e.target[3].value}`,\r\n            \"email\": `${e.target[4].value}`,\r\n            \"files_user\": [],\r\n            \"projects\": []\r\n        }\r\n        // console.log(\"UserInfo: \", userInfo)\r\n        // let username = e.target[0].value\r\n        // let password = e.target[1].value\r\n        newUser(userInfo)\r\n        props.history.push(\"/login\")\r\n        \r\n        \r\n\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"formContainer\">\r\n            <div></div>\r\n        <div className=\"formClass\">\r\n            <h1>New User</h1>\r\n            <Form onSubmit={handleCreateNewUser}>\r\n                <Form.Group controlId=\"formBasicUsername\">\r\n                    <Form.Label>User Name</Form.Label>\r\n                    <Form.Control type=\"text\" placeholder=\"Enter Username\" />\r\n                    {/* <Form.Text className=\"text-muted\">\r\n                    We'll never share your email with anyone else.\r\n                    </Form.Text> */}\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formBasicPassword\">\r\n                    <Form.Label>Password</Form.Label>\r\n                    <Form.Control type=\"password\" placeholder=\"Password\" />\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formBasicFirstName\">\r\n                    <Form.Label>First Name</Form.Label>\r\n                    <Form.Control type=\"text\" placeholder=\"Enter First Name\" />\r\n                    {/* <Form.Text className=\"text-muted\">\r\n                    We'll never share your email with anyone else.\r\n                    </Form.Text> */}\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formBasicLastName\">\r\n                    <Form.Label>Last Name</Form.Label>\r\n                    <Form.Control type=\"text\" placeholder=\"Enter Last Name\" />\r\n                    {/* <Form.Text className=\"text-muted\">\r\n                    We'll never share your email with anyone else.\r\n                    </Form.Text> */}\r\n                </Form.Group>\r\n\r\n                \r\n                <Form.Group controlId=\"formBasicEmail\">\r\n                    <Form.Label>Email</Form.Label>\r\n                    <Form.Control type=\"text\" placeholder=\"Enter Email\" />\r\n                    {/* <Form.Text className=\"text-muted\">\r\n                    We'll never share your email with anyone else.\r\n                    </Form.Text> */}\r\n                </Form.Group>\r\n\r\n\r\n\r\n                <Button variant=\"primary\" type=\"submit\">\r\n                    Submit\r\n                </Button>\r\n            </Form>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewUser\r\n","import React from 'react'\r\nimport { Form, Button } from 'react-bootstrap'\r\nimport {updateUser, removeUser} from '../api/frontendAPI'\r\n\r\n\r\nconst EditUser = (props) => {\r\n    let profile = JSON.parse(localStorage.profile)\r\n    let userInfo = {\r\n        \"id\": `${profile.id}`,\r\n        \"username\": `${profile.username}`,\r\n        \"password\": `${profile.password}`,\r\n        \"first_name\": `${profile.first_name}`,\r\n        \"last_name\": `${profile.last_name}`,\r\n        \"email\": `${profile.email}`,\r\n        \r\n    }\r\n    // console.log(userInfo)\r\n    const handleEditUser = (e) => {\r\n        e.preventDefault()\r\n        console.log(e)\r\n\r\n      \r\n        userInfo.first_name = e.target[0].value\r\n        userInfo.last_name = e.target[1].value\r\n        userInfo.email = e.target[2].value\r\n\r\n       console.log(userInfo)\r\n        console.log(updateUser(userInfo, window.localStorage.token))\r\n        alert(\"Profile successfully updated. Returning to Home Page.\")\r\n        window.location.replace(\"/\")\r\n    }\r\n\r\n    const handleDeleteAccount = async (e) => {\r\n        e.preventDefault()\r\n        alert(\"Goodbye Account!\")\r\n        console.log(JSON.parse(window.localStorage.profile).id)\r\n        await removeUser(JSON.parse(window.localStorage.profile).id)\r\n        window.localStorage.clear()\r\n        window.location.replace(\"/\")\r\n        // console.log(JSON.parse(window.localStorage.profile).id)\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"formContainer\">\r\n            <div></div>\r\n        <div className=\"formClass\">\r\n            <h1>Edit Profile {userInfo.username}</h1>\r\n            <Form onSubmit={handleEditUser}>\r\n               \r\n\r\n                <Form.Group controlId=\"formBasicFirstName\">\r\n                    <Form.Label>First Name</Form.Label>\r\n                    <Form.Control type=\"text\" defaultValue={userInfo.first_name} />\r\n                    {/* <Form.Text className=\"text-muted\">\r\n                    We'll never share your email with anyone else.\r\n                    </Form.Text> */}\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formBasicLastName\">\r\n                    <Form.Label>Last Name</Form.Label>\r\n                    <Form.Control type=\"text\" defaultValue={userInfo.last_name} />\r\n                    {/* <Form.Text className=\"text-muted\">\r\n                    We'll never share your email with anyone else.\r\n                    </Form.Text> */}\r\n                </Form.Group>\r\n\r\n                \r\n                <Form.Group controlId=\"formBasicEmail\">\r\n                    <Form.Label>Email</Form.Label>\r\n                    <Form.Control type=\"text\" defaultValue={userInfo.email} />\r\n                    {/* <Form.Text className=\"text-muted\">\r\n                    We'll never share your email with anyone else.\r\n                    </Form.Text> */}\r\n                </Form.Group>\r\n\r\n\r\n\r\n                <Button variant=\"primary\" type=\"submit\">\r\n                    Submit\r\n                </Button>\r\n            </Form>\r\n                <button className=\"deleteButton\" onClick={handleDeleteAccount}>Delete Account</button>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditUser\r\n","import React, {useState, useEffect} from 'react'\r\nimport {Navbar, Nav, Form, FormControl, Button, NavDropdown} from 'react-bootstrap';\r\n// import \"./authConfig.js\"\r\n// import \"./graphConfig.js\"\r\n// import \"./ui.js\"\r\n// import signIn from \"./authPopup.js\" \r\n// import \"./graph.js\"\r\n\r\n\r\nconst NavComponent = (props) => {\r\n\r\n    const [username, setusername] = useState()\r\n    const [profile, setprofile] = useState('')\r\n    \r\n    function logout(e) {\r\n        e.preventDefault()\r\n\r\n        window.localStorage.removeItem(\"profile\")\r\n        window.localStorage.removeItem(\"token\")\r\n        window.localStorage.removeItem(\"msProfile\")\r\n        window.localStorage.removeItem(\"odToken\")\r\n        window.localStorage.removeItem(\"pkce_code_verifier\")\r\n        window.localStorage.removeItem(\"pkce_state\")\r\n\r\n        window.location.replace(\"/\")\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (window.localStorage.profile) {\r\n            console.log(JSON.stringify(window.localStorage.profile))\r\n            setprofile(JSON.parse(window.localStorage.profile))\r\n        } \r\n    }, [])\r\n\r\n \r\n\r\n    return (\r\n        \r\n       <Navbar bg=\"dark\" expand=\"lg\" dark>\r\n\r\n           <div className=\"navContainer\">\r\n\r\n           <div className=\"toTheLeft\">\r\n                <a href=\"/\" className=\"navA\"><h4 className=\"divA\">Stevecorder&trade;</h4></a>\r\n           </div>\r\n        <div></div>\r\n            <div className=\"toTheRight\">\r\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                    <Nav className=\"mr-auto\">\r\n                    <a href=\"/music\" className=\"navA\"><p className=\"divA\">Music</p></a>\r\n                    {!window.localStorage.profile ? <a  href=\"/login\" className=\"navA\"><p className=\"divA\">{\"login\"}</p></a> : <a href=\"/profile\" className=\"navA\"><p className=\"divA\">{`Hi, ${profile.first_name}!`}</p></a>}\r\n                    <a href=\"/onedrive\" className=\"navA\"><p className=\"divA\">OneDrive</p></a>\r\n                    {window.localStorage.profile ? <a onClick={logout} className=\"navA\"><p className=\"divA\">{\"logout\"}</p></a> : null }\r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n            </div>\r\n           </div>\r\n\r\n        </Navbar>\r\n    )\r\n}\r\n\r\nexport default NavComponent\r\n","import React from 'react'\r\nimport { Form, Button } from 'react-bootstrap'\r\n\r\nconst OneDrive = (props) => {\r\n\r\n    // This is a small script that somebody wrote that helps with handling getting an authorization code and, in turn, an \r\n    // auth token for Microsoft Graph API.\r\n    // It was a godsend after 2 days of running up against a wall.\r\n    const config = {\r\n        client_id: \"ec6a8d48-e814-4f0d-a777-bb8d6f37971b\",\r\n        redirect_uri: \"http://localhost:3000/onedrive\",\r\n        authorization_endpoint: \"https://login.microsoftonline.com/common/oauth2/v2.0/authorize\",\r\n        token_endpoint: \"https://login.microsoftonline.com/common/oauth2/v2.0/token/\",\r\n        requested_scopes: \"User.Read Files.ReadWrite.All\"\r\n    };\r\n    \r\n    const getODCode = async (e) => {\r\n        e.preventDefault();\r\n        \r\n        // Create and store a random \"state\" value\r\n        var state = generateRandomString();\r\n        localStorage.setItem(\"pkce_state\", state);\r\n    \r\n        // Create and store a new PKCE code_verifier (the plaintext random secret)\r\n        var code_verifier = generateRandomString();\r\n        localStorage.setItem(\"pkce_code_verifier\", code_verifier);\r\n    \r\n        // Hash and base64-urlencode the secret to use as the challenge\r\n        var code_challenge = await pkceChallengeFromVerifier(code_verifier);\r\n    \r\n        // Build the authorization URL\r\n        var url = config.authorization_endpoint \r\n            + \"?response_type=code\"\r\n            + \"&client_id=\"+encodeURIComponent(config.client_id)\r\n            + \"&state=\"+encodeURIComponent(state)\r\n            + \"&scope=\"+encodeURIComponent(config.requested_scopes)\r\n            + \"&redirect_uri=\"+encodeURIComponent(config.redirect_uri)\r\n            + \"&code_challenge=\"+encodeURIComponent(code_challenge)\r\n            + \"&code_challenge_method=S256\"\r\n            ;\r\n    \r\n        // Redirect to the authorization server\r\n        window.location = url;\r\n    };\r\n    \r\n    \r\n    //////////////////////////////////////////////////////////////////////\r\n    // OAUTH REDIRECT HANDLING\r\n    \r\n    // Handle the redirect back from the authorization server and\r\n    // get an access token from the token endpoint\r\n    \r\n    var q = parseQueryString(window.location.search.substring(1));\r\n    \r\n    // Check if the server returned an error string\r\n    if(q.error) {\r\n        alert(\"Error returned from authorization server: \"+q.error);\r\n        document.getElementById(\"error_details\").innerText = q.error+\"\\n\\n\"+q.error_description;\r\n        document.getElementById(\"error\").classList = \"\";\r\n    }\r\n    \r\n    // If the server returned an authorization code, attempt to exchange it for an access token\r\n    if(q.code) {\r\n    \r\n        // Verify state matches what we set at the beginning\r\n        if(localStorage.getItem(\"pkce_state\") != q.state) {\r\n            alert(\"Invalid state\");\r\n        } else {\r\n    \r\n            // Exchange the authorization code for an access token\r\n            sendPostRequest(config.token_endpoint, {\r\n                grant_type: \"authorization_code\",\r\n                code: q.code,\r\n                client_id: config.client_id,\r\n                redirect_uri: config.redirect_uri,\r\n                code_verifier: localStorage.getItem(\"pkce_code_verifier\")\r\n            }, async function(request, body) {\r\n    \r\n                // Setting Graph API Auth token to localStorage to use for authorization with OneDrive\r\n                console.log(body.access_token)\r\n                window.localStorage.setItem(\"odToken\", body.access_token)\r\n                \r\n\r\n                // Get MS User Profile\r\n                let msProfInit = {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'Authorization': `Bearer ${window.localStorage.odToken}`\r\n\r\n                    }\r\n                  }\r\n                let msProfileRequest = await fetch(\"https://graph.microsoft.com/v1.0/me/\", msProfInit)\r\n                let msProfile = await msProfileRequest.json()\r\n                window.localStorage.setItem(\"msProfile\", JSON.stringify(msProfile))\r\n                console.log(msProfile)\r\n                  window.location.replace(\"/\")\r\n                // Replace the history entry to remove the auth code from the browser address bar\r\n                // window.history.replaceState({}, null, \"/\");\r\n    \r\n            }\r\n            \r\n            );\r\n        }\r\n     }\r\n    \r\n    \r\n    //////////////////////////////////////////////////////////////////////\r\n    // GENERAL HELPER FUNCTIONS\r\n    \r\n    // Make a POST request and parse the response as JSON\r\n    function sendPostRequest(url, params, success, error) {\r\n        var request = new XMLHttpRequest();\r\n        request.open('POST', url, true);\r\n        request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\r\n        request.onload = function() {\r\n            var body = {};\r\n            try {\r\n                body = JSON.parse(request.response);\r\n            } catch(e) {}\r\n    \r\n            if(request.status == 200) {\r\n                success(request, body);\r\n            } else {\r\n                console.error(request, body);\r\n            }\r\n        }\r\n        request.onerror = function() {\r\n            error(request, {});\r\n        }\r\n        var body = Object.keys(params).map(key => key + '=' + params[key]).join('&');\r\n        request.send(body);\r\n    }\r\n    \r\n    // Parse a query string into an object\r\n    function parseQueryString(string) {\r\n        if(string == \"\") { return {}; }\r\n        var segments = string.split(\"&\").map(s => s.split(\"=\") );\r\n        var queryString = {};\r\n        segments.forEach(s => queryString[s[0]] = s[1]);\r\n        return queryString;\r\n    }\r\n    \r\n    \r\n    //////////////////////////////////////////////////////////////////////\r\n    // PKCE HELPER FUNCTIONS\r\n    \r\n    // Generate a secure random string using the browser crypto functions\r\n    function generateRandomString() {\r\n        var array = new Uint32Array(28);\r\n        window.crypto.getRandomValues(array);\r\n        return Array.from(array, dec => ('0' + dec.toString(16)).substr(-2)).join('');\r\n    }\r\n    \r\n    // Calculate the SHA256 hash of the input text. \r\n    // Returns a promise that resolves to an ArrayBuffer\r\n    function sha256(plain) {\r\n        const encoder = new TextEncoder();\r\n        const data = encoder.encode(plain);\r\n        return window.crypto.subtle.digest('SHA-256', data);\r\n    }\r\n    \r\n    // Base64-urlencodes the input string\r\n    function base64urlencode(str) {\r\n        // Convert the ArrayBuffer to string using Uint8 array to conver to what btoa accepts.\r\n        // btoa accepts chars only within ascii 0-255 and base64 encodes them.\r\n        // Then convert the base64 encoded to base64url encoded\r\n        //   (replace + with -, replace / with _, trim trailing =)\r\n        return btoa(String.fromCharCode.apply(null, new Uint8Array(str)))\r\n            .replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, '');\r\n    }\r\n    \r\n    // Return the base64-urlencoded sha256 hash for the PKCE challenge\r\n    async function pkceChallengeFromVerifier(v) {\r\n        let hashed = await sha256(v);\r\n        return base64urlencode(hashed);\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"odButtonContainer\">\r\n            <div></div>\r\n        <div className=\"formClass\">\r\n            <h1>OneDrive</h1>\r\n            <Form onSubmit={getODCode}>\r\n                \r\n                <Button variant=\"primary\" type=\"submit\">\r\n                    Sign In to OneDrive\r\n                </Button>\r\n            </Form>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OneDrive\r\n","import { React, useState } from 'react'\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport './App.css';\nimport HomePage from './pages/HomePage'\nimport MusicPage2 from './pages/MusicPage2'\nimport LoginPage from './pages/LoginPage'\nimport NewUser from './pages/NewUser'\nimport EditUser from './pages/EditUser'\n\nimport Nav from './components/Nav'\nimport OneDrive from './pages/OneDrive';\n\n\nfunction App() {\n\n  // const [profile, setprofile] = useState('')\n\n\n\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n      <Nav /> \n          <div>\n            <Route exact path=\"/\" component={HomePage} />\n            <Route exact path=\"/music\" component={MusicPage2} />\n            <Route exact path=\"/login\" component={LoginPage} />\n            <Route exact path=\"/new-user\" component={NewUser} />\n            <Route exact path=\"/profile\" component={EditUser} />\n            <Route exact path=\"/onedrive\" component={OneDrive} />\n\n\n            {/* <Route exact path=\"/wines/:wineID\" component={WinePage} /> */}\n          </div>\n        </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}